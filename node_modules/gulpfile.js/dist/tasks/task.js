"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const gulp_1 = require("gulp");
/**
 * Task class to define gulp tasks.
 */
class Task {
    /**
     * Task constructor.
     *
     * @param {Options} options
     */
    constructor(options) {
        /**
         * Name of the current task.
         * @type {string}
         * @protected
         */
        this._name = "";
        /**
         * Current task settings.
         * @type {Options}
         * @protected
         */
        this._settings = {};
        this._name = options.name || "";
        this._settings = options.settings || {};
    }
    /**
     * Register task in Gulp.
     *
     * @param {string} step
     * @param {TaskFunction} task
     * @returns {string}
     * @protected
     */
    _defineTask(step, task) {
        const taskName = this._taskName(step);
        gulp_1.task(taskName, task);
        return taskName;
    }
    /**
     * Build complete task name based on current task, name and step.
     *
     * @param {string} step
     * @return {string}
     * @protected
     */
    _taskName(step) {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        const base = this.constructor.taskName + (this._name ? `:${this._name}` : "");
        if (!step) {
            return base;
        }
        return `${base}:${step}`;
    }
}
exports.default = Task;
/**
 * Global task name.
 * @type {string}
 * @readonly
 */
Task.taskName = "";
/**
 * Level to order task in execution pipeline.
 * @type {number}
 * @readonly
 */
Task.taskOrder = 0;
/**
 * List of errors.
 * @type {TaskErrorDefinition[]}
 */
Task.taskErrors = [];
//# sourceMappingURL=task.js.map